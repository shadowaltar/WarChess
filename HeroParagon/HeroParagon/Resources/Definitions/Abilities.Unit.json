[
    {
        "name": "jousting",
        "active": false,
        "invoked_by": "move",
        "actions": [
            {
                "action": "assign(self.current_attack_modifier*(1+0.05*current_move_distance))"
            }
        ],
        "on_finished": [
            {
                "action": "reset_any_modifier"
            }
        ]
    },
    {
        "name": "change_team_morale",
        "active": false,
        "invoked_by": "start_of_battle",
        "actions": [
            {
                "action": "assign(max(team.morale+1,3))"
            }
        ]
    },
    {
        "name": "hate",
        "active": false,
        "invoked_by": "before_melee_attack",
        "condition": [
            {
                "name": "select_affected_unit",
                "args": [
                    "devil",
                    "demon"
                ]
            }
        ],
        "actions": [
            {
                "action": "assign(self.current_hate_modifier*1.5)"
            }
        ],
        "on_finished": [
            {
                "name": "reset_any_modifier"
            }
        ]
    },
    {
        "name": "cast_angel_resurrection",
        "active": false,
        "invoked_by": "end_of_turn",
        "condition": [
            {
                "name": "has_ability",
                "ability": "angel_resurrection"
            }
        ],
        "actions": [
            {
                "action": "invoke_ability",
                "args": [
                    {
                        "name": "ability",
                        "value": "angel_resurrection"
                    },
                    {
                        "name": "remaining_usage",
                        "value": "1"
                    },
                    {
                        "name": "target",
                        "value": "self_team.during_battle.dead_allies"
                    }
                ]
            }
        ]
    }
]